import{a as p}from"./index-B9ygI19o.js";var g={};const d=g.NEXT_PUBLIC_API_URL||"http://localhost:8000/api/v1",t=p.create({baseURL:d,headers:{"Content-Type":"application/json"}});t.interceptors.request.use(e=>{const r=typeof window<"u"?localStorage.getItem("token"):null;return r&&(e.headers.Authorization=`Bearer ${r}`),e},e=>Promise.reject(e));t.interceptors.response.use(e=>e,e=>{var r;return((r=e.response)==null?void 0:r.status)===401&&typeof window<"u"&&localStorage.removeItem("token"),Promise.reject(e)});const s="products",o="categories",n="sliders",i={getAllCategories:async()=>t.get(o),getCategory:async e=>t.get(`${o}/${e}`),getProductsByCategory:async(e,r={})=>{const a=new URLSearchParams({category:e});return r.search&&a.append("search",r.search),r.sort&&a.append("sort",r.sort),r.page&&a.append("page",r.page),t.get(`${s}?${a.toString()}`)},createCategory:async e=>t.post(o,e),updateCategory:async(e,r)=>t.put(`${o}/${e}`,r),deleteCategory:async e=>t.delete(`${o}/${e}`),toggleStatus:async e=>t.post(`${o}/${e}/toggle-status`)},y={getSliders:async()=>t.get(n),getSlider:async e=>t.get(`${n}/${e}`),getAllSliders:async()=>t.get(`${n}/all`),createSlider:async e=>t.post(n,e),updateSlider:async(e,r)=>t.put(`${n}/${e}`,r),deleteSlider:async e=>t.delete(`${n}/${e}`),toggleSlider:async e=>t.post(`${n}/${e}/toggle`),reorderSliders:async e=>t.post(`${n}/reorder`,{sliders:e})},S={getAllVendors:async(e={})=>{const r=new URLSearchParams;e.search&&r.append("search",e.search),e.page&&r.append("page",e.page),e.limit&&r.append("limit",e.limit);const a=r.toString(),c=a?`vendors?${a}`:"vendors";return t.get(c)},getTopVendors:async()=>t.get("vendors/top"),getVendor:async e=>t.get(`vendors/${e}`),getVendorProducts:async(e,r={})=>{const a=new URLSearchParams({vendor_id:e});return r.category&&a.append("category",r.category),r.search&&a.append("search",r.search),r.sort&&a.append("sort",r.sort),r.page&&a.append("page",r.page),t.get(`${s}?${a.toString()}`)}};export{i as c,y as s,S as v};
